# UI設計書 - Production Operation Management Solution

## 概要
本文書では、生産調整管理システムのユーザーインターフェース設計について詳述します。主要な2つの画面（生産調整計画画面、生産調整ステータス画面）の設計仕様を定義します。

## ユーザー役割とアクセス権限

### 役割定義
- **計画担当者**: 生産調整依頼の作成・管理・承認
- **工場管理者**: 依頼への回答・ステータス確認
- **管理者**: システム全体の管理・全データへのアクセス

---

# 1. 生産調整計画画面

## 1.1 画面概要
**対象ユーザー**: 計画担当者、管理者  
**主要機能**: 増減産する製品と数量を入力して生産調整計画を行い、工場への依頼を送信

## 1.2 画面レイアウト

### ヘッダー部
```
┌─────────────────────────────────────────────────────────────┐
│ [ロゴ] 生産調整管理システム    [ユーザー名] [ログアウト]     │
│ > 生産調整計画                                              │
└─────────────────────────────────────────────────────────────┘
```

### メイン画面構成
```
┌─────────────────────────────────────────────────────────────┐
│ 生産調整計画画面                                            │
├─────────────────────────────────────────────────────────────┤
│ [新規依頼作成] [下書き一覧] [送信済み一覧]                   │
├─────────────────────────────────────────────────────────────┤
│ ■ 基本情報                                                 │
│ 依頼ID: [自動生成]          依頼日: [2024-01-20]            │
│ 担当者: [田中太郎]          優先度: [高▼] [中] [低]          │
│                                                            │
│ ■ 調整対象                                                 │
│ 工場選択: [東京製造工場▼]                                   │
│ 製品選択: [スマートフォン A▼]                               │
│ 製品コード: [PRD-001]       カテゴリ: [電子機器]            │
│                                                            │
│ ■ 数量調整                                                 │
│ 調整種別: [○増産] [○減産]                                   │
│ 現在数量: [1,000] 個        依頼数量: [500] 個              │
│ 目標数量: [1,500] 個        (自動計算)                      │
│                                                            │
│ ■ スケジュール                                             │
│ 返答期限: [2024-01-25] [カレンダー]                         │
│ 納期: [2024-02-05] [カレンダー]                             │
│                                                            │
│ ■ 詳細情報                                                 │
│ 依頼理由: [                                               ] │
│ [         緊急受注対応のため増産が必要                      ] │
│ [                                                         ] │
│                                                            │
│ 素材在庫状況: [十分▼] [やや不足] [不足] [過剰]              │
│                                                            │
│ 特記事項: [                                               ] │
│ [         品質基準は従来通り維持                           ] │
│ [                                                         ] │
│                                                            │
│ [下書き保存] [内容確認] [送信]                             │
└─────────────────────────────────────────────────────────────┘
```

## 1.3 フィールド仕様

### 基本情報セクション
| 項目 | 種別 | 必須 | 制約・備考 |
|------|------|------|------------|
| 依頼ID | 表示のみ | - | システム自動生成 |
| 依頼日 | 表示のみ | - | 現在日時を表示 |
| 担当者 | 表示のみ | - | ログインユーザー名 |
| 優先度 | 選択 | ○ | 高/中/低、デフォルト「中」 |

### 調整対象セクション
| 項目 | 種別 | 必須 | 制約・備考 |
|------|------|------|------------|
| 工場選択 | プルダウン | ○ | 稼働中の工場のみ表示 |
| 製品選択 | プルダウン | ○ | 有効な製品のみ表示、工場の専門分野でフィルタリング |
| 製品コード | 表示のみ | - | 製品選択連動で自動表示 |
| カテゴリ | 表示のみ | - | 製品選択連動で自動表示 |

### 数量調整セクション
| 項目 | 種別 | 必須 | 制約・備考 |
|------|------|------|------------|
| 調整種別 | ラジオボタン | ○ | 増産/減産 |
| 現在数量 | 数値入力 | ○ | 正の整数、単位は製品の単位 |
| 依頼数量 | 数値入力 | ○ | 正の整数 |
| 目標数量 | 表示のみ | - | 現在数量±依頼数量で自動計算 |

### スケジュールセクション
| 項目 | 種別 | 必須 | 制約・備考 |
|------|------|------|------------|
| 返答期限 | 日付選択 | ○ | 現在日時より未来、カレンダーピッカー |
| 納期 | 日付選択 | ○ | 返答期限以降、カレンダーピッカー |

### 詳細情報セクション
| 項目 | 種別 | 必須 | 制約・備考 |
|------|------|------|------------|
| 依頼理由 | テキストエリア | ○ | 500文字以内 |
| 素材在庫状況 | プルダウン | ○ | 十分/やや不足/不足/過剰 |
| 特記事項 | テキストエリア | - | 1000文字以内 |

## 1.4 画面操作フロー

### 新規依頼作成フロー
1. **新規依頼作成**ボタンをクリック
2. 基本情報（優先度）を設定
3. 工場を選択（専門分野に応じた製品がフィルタリングされる）
4. 製品を選択（製品情報が自動表示される）
5. 調整種別を選択（増産/減産）
6. 数量を入力（目標数量が自動計算される）
7. スケジュールを設定
8. 依頼理由・詳細情報を入力
9. **下書き保存** または **内容確認** → **送信**

### バリデーション
- 必須項目未入力時はエラーメッセージ表示
- 日付の論理チェック（返答期限 < 納期）
- 数値の範囲チェック（最小発注数量以上）

### 確認画面
```
┌─────────────────────────────────────────────────────────────┐
│ 生産調整依頼内容確認                                        │
├─────────────────────────────────────────────────────────────┤
│ 以下の内容で依頼を送信します。よろしいですか？               │
│                                                            │
│ 工場: 東京製造工場                                          │
│ 製品: スマートフォン A (PRD-001)                            │
│ 調整: 増産 500個 (1,000個 → 1,500個)                       │
│ 優先度: 高                                                 │
│ 返答期限: 2024-01-25                                       │
│ 納期: 2024-02-05                                           │
│ 理由: 緊急受注対応のため増産が必要                          │
│                                                            │
│ [戻る] [送信実行]                                          │
└─────────────────────────────────────────────────────────────┘
```

---

# 2. 生産調整ステータス画面

## 2.1 画面概要
**対象ユーザー**: 計画担当者、工場管理者、管理者  
**主要機能**: 調整ステータス一覧確認、詳細表示、手動修正

## 2.2 画面レイアウト

### ヘッダー部
```
┌─────────────────────────────────────────────────────────────┐
│ [ロゴ] 生産調整管理システム    [ユーザー名] [ログアウト]     │
│ > 生産調整ステータス                                        │
└─────────────────────────────────────────────────────────────┘
```

### フィルター・検索部
```
┌─────────────────────────────────────────────────────────────┐
│ ■ 検索・フィルター                                         │
│ ステータス: [すべて▼] 工場: [すべて▼] 優先度: [すべて▼]    │
│ 期間: [2024-01-01] ～ [2024-01-31]                         │
│ キーワード: [____________] [検索] [クリア]                  │
└─────────────────────────────────────────────────────────────┘
```

### 一覧表示部
```
┌─────────────────────────────────────────────────────────────┐
│ ■ 生産調整依頼一覧 (8件)                                   │
├─────┬──────┬─────────┬──────┬────┬────┬─────────┤
│依頼ID│ 日付  │  工場    │ 製品  │優先│状態│   操作   │
├─────┼──────┼─────────┼──────┼────┼────┼─────────┤
│R-001 │01/15 │東京製造  │スマホA│ 高 │回答│[詳細][編集]│
│R-002 │01/16 │大阪生産  │部品B  │ 中 │確認│[詳細]     │
│R-003 │01/17 │名古屋    │化学C  │ 高 │承認│[詳細]     │
│R-004 │01/18 │横浜テクノ│半導体D│ 中 │完了│[詳細]     │
│R-005 │01/19 │福岡製造  │医薬E  │ 低 │送信│[詳細][編集]│
│R-006 │01/20 │東京製造  │精密F  │ 高 │拒否│[詳細][再送]│
│R-007 │01/21 │大阪生産  │金属G  │ 中 │送信│[詳細][編集]│
│R-008 │01/22 │名古屋    │樹脂H  │ 低 │確認│[詳細]     │
└─────┴──────┴─────────┴──────┴────┴────┴─────────┘
│ [＜前] 1/1 [次＞]                              [エクスポート] │
└─────────────────────────────────────────────────────────┘
```

## 2.3 詳細画面レイアウト

### 依頼詳細表示
```
┌─────────────────────────────────────────────────────────────┐
│ 生産調整依頼詳細 - R-001                                    │
├─────────────────────────────────────────────────────────────┤
│ [一覧に戻る] [編集] [ステータス変更] [コメント追加]          │
├─────────────────────────────────────────────────────────────┤
│ ■ 基本情報                                                 │
│ 依頼ID: R-001               ステータス: [回答済み]          │
│ 依頼日: 2024-01-15 09:00    担当者: 田中太郎                │
│ 優先度: 高                  修正回数: 0回                   │
│                                                            │
│ ■ 調整内容                                                 │
│ 工場: 東京製造工場          製品: スマートフォン A          │
│ 調整: 増産 500個            現在→目標: 1,000個→1,500個      │
│ 返答期限: 2024-01-17        納期: 2024-01-25               │
│ 依頼理由: 緊急受注対応のため増産が必要                      │
│                                                            │
│ ■ 工場回答 (2024-01-16 14:30)                             │
│ 回答者: 佐藤花子            回答状況: 条件付き受諾           │
│ 対応可能数量: 400個         提案納期: 2024-01-27            │
│ 追加コスト: 50,000円        回答コメント:                   │
│ 400個まで対応可能。納期を2日延長希望。                      │
│                                                            │
│ ■ ステータス履歴                                           │
│ 2024-01-15 09:00 送信済み ← 作成 (田中太郎)                │
│ 2024-01-15 14:20 確認中  ← 送信済み (システム)             │
│ 2024-01-16 14:30 回答済み ← 確認中 (佐藤花子)              │
│                                                            │
│ ■ コメント・メモ                                           │
│ [コメント追加]                                             │
│                                                            │
│ [承認] [条件変更して再送] [拒否] [キャンセル]               │
└─────────────────────────────────────────────────────────────┘
```

## 2.4 手動修正機能

### ステータス変更画面
```
┌─────────────────────────────────────────────────────────────┐
│ ステータス変更 - R-001                                      │
├─────────────────────────────────────────────────────────────┤
│ 現在のステータス: 回答済み                                  │
│                                                            │
│ 変更先ステータス: [承認済み▼]                               │
│ ┌─ 選択可能ステータス ────────────────────────────────────┐ │
│ │ 承認済み - 依頼内容を承認                              │ │
│ │ 送信済み - 内容変更して再送信                          │ │
│ │ 拒否     - 依頼を拒否                                  │ │
│ │ キャンセル - 依頼をキャンセル                          │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                            │
│ 変更理由: [                                               ] │
│ [         工場回答の条件で承認                             ] │
│ [                                                         ] │
│                                                            │
│ [キャンセル] [変更実行]                                    │
└─────────────────────────────────────────────────────────────┘
```

### 内容変更・再送信画面
```
┌─────────────────────────────────────────────────────────────┐
│ 依頼内容変更・再送信 - R-001                                │
├─────────────────────────────────────────────────────────────┤
│ ■ 変更内容                                                 │
│ 依頼数量: [400] 個 (変更前: 500)                           │
│ 納期: [2024-01-27] (変更前: 2024-01-25)                    │
│ 返答期限: [2024-01-20] (変更前: 2024-01-17)                │
│                                                            │
│ ■ 変更理由                                                 │
│ [                                                         ] │
│ [    工場回答に基づき数量と納期を調整                      ] │
│ [                                                         ] │
│                                                            │
│ ■ 追加メッセージ                                           │
│ [                                                         ] │
│ [    条件調整いただきありがとうございます                   ] │
│ [                                                         ] │
│                                                            │
│ [キャンセル] [再送信実行]                                  │
└─────────────────────────────────────────────────────────────┘
```

## 2.5 権限別表示制御

### 計画担当者
- 全ての依頼の表示・編集が可能
- ステータス変更権限あり
- 再送信・承認・拒否の実行権限あり

### 工場管理者
- 自工場宛の依頼のみ表示
- 回答の入力・修正が可能
- ステータス変更は「確認中」→「回答済み」のみ

### 管理者
- 全ての依頼の表示・編集が可能
- 全てのステータス変更権限あり
- システム管理機能へのアクセス権限あり

## 2.6 通知・アラート機能

### ダッシュボードウィジェット
```
┌─────────────────────────────────────────────────────────────┐
│ ■ 要注意項目                                               │
│ ⚠️ 期限切れ: 2件           🔔 回答待ち: 3件               │
│ ⏰ 期限間近: 1件           ✅ 今日の完了: 2件             │
│                                                            │
│ ■ 最新の活動                                               │
│ • R-001 工場から回答がありました (2分前)                   │
│ • R-003 承認が完了しました (15分前)                        │
│ • R-007 新しい依頼が送信されました (1時間前)               │
└─────────────────────────────────────────────────────────────┘
```

---

# 3. 共通UI要素

## 3.1 ナビゲーション
```
┌─────────────────────────────────────────────────────────────┐
│ [ダッシュボード] [生産調整計画] [ステータス管理] [レポート]  │
│                 └── 新規作成                               │
│                 └── 下書き一覧                             │
│                 └── 送信履歴                               │
└─────────────────────────────────────────────────────────────┘
```

## 3.2 カラーコード・スタイル

### ステータス色分け
- **送信済み**: 青色 (#2196F3)
- **確認中**: オレンジ色 (#FF9800)
- **回答済み**: 紫色 (#9C27B0)
- **承認済み**: 緑色 (#4CAF50)
- **完了**: 濃緑色 (#2E7D32)
- **拒否**: 赤色 (#F44336)
- **キャンセル**: グレー (#757575)

### 優先度色分け
- **高**: 赤背景 (#FFEBEE)、赤文字 (#C62828)
- **中**: 黄背景 (#FFF8E1)、橙文字 (#F57C00)
- **低**: 白背景、グレー文字 (#616161)

## 3.3 レスポンシブ対応

### タブレット表示
- 一覧表は横スクロール対応
- フィルター部分は折りたたみ可能
- 詳細画面は単一カラム表示

### モバイル表示
- カード形式での一覧表示
- タッチ操作に最適化されたボタンサイズ
- スワイプによる操作（詳細表示、編集）

---

# 4. 技術仕様

## 4.1 フロントエンド要件
- レスポンシブデザイン対応
- ブラウザ互換性: Chrome, Firefox, Safari, Edge
- アクセシビリティ: WCAG 2.1 AA準拠
- 多言語対応準備（日本語優先）

## 4.2 パフォーマンス要件
- 初期読み込み時間: 3秒以内
- 画面遷移時間: 1秒以内
- 一覧表示: 100件まで即座に表示
- 検索・フィルタリング: 500ms以内

## 4.3 セキュリティ要件
- HTTPS必須
- CSRF対策
- XSS対策
- 入力値検証・サニタイゼーション

---

# 5. 今後の拡張予定

## 5.1 機能拡張
- グラフ・チャートによる分析画面
- 自動承認ルール設定
- テンプレート機能
- 一括操作機能

## 5.2 UI/UX改善
- ダークモード対応
- キーボードショートカット
- ドラッグ&ドロップ操作
- リアルタイム更新機能

---

*本UI設計書は、システムの成長に合わせて継続的に更新されます。*